name: Merge and Deploy

on:
  schedule:
    - cron: '0 0 * * *'  # Schedule at 12 am every day
  push:
    branches:
        - dev

jobs:
  merge-develop-to-main:
    name: Merge dev -> main
    runs-on: ubuntu-latest
    
    steps:
        - name : merge dev to main
          uses: tukasz/direct-merge-action@master
          with:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
            source-branch: dev
            target-branch: main
            commit-message: "Auto merge"
        - name : push main
          run : git push 


 